# 資料導入頁面功能說明

## 📥 完整功能清單

### 1. 雙模式導入
- ✨ **建立新圖譜**：上傳檔案並創建全新的知識圖譜
- 📂 **加入現有圖譜**：將資料導入到已存在的圖譜中

### 2. 檔案管理
- **支援格式**：CSV (.csv) 和 Excel (.xlsx)
- **檔案大小限制**：最大 50MB
- **拖放上傳**：點擊選擇或拖放檔案
- **檔案資訊顯示**：檔案名稱、大小、類型

### 3. 檔案預覽 (CSV)
- 自動顯示前 5 列資料
- 表格式預覽，包含標題行
- 即時預覽檔案內容

### 4. 上傳進度追蹤
- 即時進度條顯示 (0-100%)
- 上傳狀態提示
- 視覺化回饋

### 5. 圖譜管理
- **動態載入**：從後端 API 獲取現有圖譜列表
- **重新載入**：手動刷新圖譜列表
- **載入指示**：顯示載入中的提示
- **節點計數**：顯示每個圖譜的節點數量

### 6. 導入歷史記錄
- **持久化儲存**：使用 LocalStorage 保存記錄
- **詳細統計**：成功、跳過、失敗節點數
- **時間戳記**：記錄導入時間
- **狀態標示**：成功/失敗的視覺標記
- **記錄管理**：
  - 單筆刪除：滑鼠懸停顯示刪除按鈕
  - 清空全部：一鍵清除所有記錄
- **自動限制**：最多保留 10 筆記錄

### 7. 錯誤處理
- **檔案格式驗證**：僅接受 CSV/Excel 檔案
- **大小檢查**：超過 50MB 會提示警告
- **網路錯誤**：伺服器連線失敗提示
- **格式錯誤**：資料格式不正確的詳細說明
- **自動重試**：可手動重新嘗試失敗的操作

### 8. 使用者體驗
- **即時驗證**：輸入時檢查必填欄位
- **視覺回饋**：按鈕狀態、hover 效果、過渡動畫
- **多語言**：中文繁體界面
- **深色模式**：完整支援深色主題
- **無障礙**：鍵盤導航、螢幕閱讀器友善

## 🔧 技術實現

### 前端技術
- **Vue 3 Composition API**
- **Element Plus**：訊息提示
- **Tailwind CSS**：響應式設計
- **LocalStorage**：歷史記錄持久化

### API 整合
```javascript
// 獲取圖譜列表
GET /api/graph/list

// 上傳檔案並導入
POST /api/graph/import/excel
FormData:
  - file: 檔案
  - import_mode: 'new' | 'existing'
  - graph_name: 新圖譜名稱 (mode=new 時)
  - graph_id: 圖譜 ID (mode=existing 時)
```

### 資料流程
```
選擇檔案 → 驗證格式 → 預覽內容 → 選擇模式 → 上傳檔案 → 
顯示進度 → 處理結果 → 更新圖譜 → 記錄歷史
```

## 📋 使用步驟

### 建立新圖譜
1. 點擊「建立新圖譜」按鈕
2. 輸入圖譜名稱（3-8 個字）
3. 選擇 CSV 或 Excel 檔案
4. 預覽檔案內容（可選）
5. 點擊「開始導入」

### 加入現有圖譜
1. 點擊「加入現有圖譜」按鈕
2. 從下拉選單選擇目標圖譜
3. 選擇要導入的檔案
4. 點擊「開始導入」

## 🎨 UI/UX 特色

### 視覺設計
- 漸層色標題
- 圓角卡片
- 陰影效果
- 圖標豐富

### 互動設計
- Hover 動畫
- 點擊回饋
- 平滑過渡
- 加載狀態

### 響應式布局
- 手機、平板、桌面適配
- 彈性容器
- 最大寬度限制

## 🔒 安全性

1. **檔案驗證**：僅接受白名單格式
2. **大小限制**：防止過大檔案
3. **錯誤隔離**：前端錯誤不影響後端
4. **資料清理**：定期清理歷史記錄

## 🚀 效能優化

1. **按需載入**：圖譜列表僅在需要時載入
2. **進度模擬**：平滑的進度條體驗
3. **記錄限制**：最多 10 筆歷史記錄
4. **預覽限制**：僅顯示前 5 列資料

## 📝 未來改進

- [ ] 支援更多檔案格式 (JSON, XML)
- [ ] 批次上傳多個檔案
- [ ] 拖放區域上傳
- [ ] Excel 檔案預覽
- [ ] 匯出導入報告
- [ ] 導入排程功能
- [ ] 資料映射配置
- [ ] 重複資料檢測

## 🐛 已知問題

無

## 📞 支援

如有問題，請聯繫開發團隊或查閱相關文檔。
